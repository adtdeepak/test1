<head>
     <title>D-ASSIST $ CONVERTER</title>
	<link rel="shortcut icon" href="images/logo.ico"/>
</head>

	<div class="container campaign-overview" ng-cloak  style="padding-top: 30px;">
		<div id="progressbar"><div class="progress-label">Loading...</div></div>
		<div id="wait">Please Wait</div>
	</div>
<script>

$(document).ready(function(){
    var newurl ="#overview";
	 var time = 300;
     

	if (window.location.href.toLowerCase().indexOf("byimpact") >= 0 && window.location.href.indexOf("custom") < 0){
		newurl = "#overview-details?selectedGroup=By Impact";
		time = 400;
		
	}
	else if(window.location.href.indexOf("usergroup") >= 0 && window.location.href.indexOf("custom") < 0){
		
		 var usergroup = window.location.href.split('=');
     console.log(usergroup[1]);
		 newurl = "#overview-details?selectedGroup=User Groups&group=" + usergroup[1];
		 time = 400;
	}
	else if(window.location.href.indexOf("featuregroup") >= 0 && window.location.href.indexOf("custom") < 0 ){
		var featuregroup = window.location.href.split('=');
		 newurl = "#overview-details?selectedGroup=Features&group=" + featuregroup[1];
		 time = 400;
	}
	else{
     var params= window.location.href.split('=true&');
		newurl = "#custom-filter?" + params[1];
		time = 400;
	};
    $(function() {
    var progressbar = $( "#progressbar" ),
      progressLabel = $( ".progress-label" );
 
    progressbar.progressbar({
      value: false,
      change: function() {
        progressLabel.text( "Processing " + progressbar.progressbar( "value" ) + "%" );
       
      },
      complete: function() {
         
       location.href = newurl;
      }
    });
 
     function progress() {
      var val = progressbar.progressbar( "value" ) || 0;
 
      progressbar.progressbar( "value", val + 2 );
 
      
      if(val > 96){
        $('.ui-widget-header').css('background','green') ;
      };
      if ( val < 99 ) {
        setTimeout( progress, time );
      }
      
      
    }
 
    setTimeout( progress, 0 );
  });
});
</script>
<style>
  .ui-progressbar {
    position: relative;
    margin-top: 22%;
    /*margin-bottom: 25%;*/
    background: #777;
  }
  .ui-widget-header{
    background: #f5874f;
    border: 1px solid #f5874f;
  }
  .progress-label {
    position: absolute;
    left: 45.5%;
    top: 4px;
    /*font-weight: bold;*/
    color: #fff;
    /*text-shadow: 1px 1px 0 #fff;*/
  }
  #wait{
  	text-align: center;
  	color: #000;
  }
  </style>